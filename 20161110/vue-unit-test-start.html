<!DOCTYPE html><html><head><!-- Google Analytics --><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-87940530-1","auto"),ga("send","pageview");</script><script async src="https://www.google-analytics.com/analytics.js"></script><!-- End Google Analytics --><meta charset="utf-8"><meta name="google-site-verification" content="rlxpN--EBnMOLJnY1efTuwShQId3YX7A6RWkQEr0y9c"><link rel="canonical" href="https://imys.net/20161110/vue-unit-test-start.html"><title>Vue单元测试起步 | Yusen&#39;s Blog | 学习弯道超车的技巧！</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="theme-color" content="#3F51B5"><meta name="keywords" content="Vue,Unit test,单元测试,Karma,Phantomjs"><meta name="description" content="Vue单元测试配置，Vue unit test, Vue Karma 配置"><meta property="og:type" content="article"><meta property="og:title" content="Vue单元测试起步"><meta property="og:url" content="http://imys.net/20161110/vue-unit-test-start.html"><meta property="og:site_name" content="Yusen's Blog"><meta property="og:description" content="Vue单元测试配置，Vue unit test, Vue Karma 配置"><meta property="og:image" content="http://static.imys.net/vue-unit-1.jpg"><meta property="og:image" content="http://static.imys.net/vue-unit-2.jpg"><meta property="og:image" content="http://static.imys.net/vue-unit-3.jpg"><meta property="og:image" content="http://static.imys.net/vue-unit-4.jpg"><meta property="og:image" content="http://static.imys.net/vue-unit-5.png"><meta property="og:updated_time" content="2017-08-20T13:57:23.874Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Vue单元测试起步"><meta name="twitter:description" content="Vue单元测试配置，Vue unit test, Vue Karma 配置"><meta name="twitter:image" content="http://static.imys.net/vue-unit-1.jpg"><link rel="alternate" type="application/atom+xml" title="Yusen&#39;s Blog" href="/atom.xml"><link rel="shortcut icon" href="/favicon.ico"><link rel="stylesheet" href="/css/style.css?v=1.7.2"><script>window.lazyScripts=[];</script><!-- custom head --></head><body><div id="loading" class="active"></div><aside id="menu" class="hide"><div class="inner flex-row-vertical"><a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off"><i class="icon icon-lg icon-close"></i></a><div class="brand-wrap" style="background-image:url(/img/brand.jpg)"><div class="brand"><a href="/" class="avatar waves-effect waves-circle waves-light"><img src="/img/face.jpg"></a><hgroup class="introduce"><h5 class="nickname">王昱森</h5><a href="mailto:634206017@qq.com" title="634206017@qq.com" class="mail">634206017@qq.com</a></hgroup></div></div><div class="scroll-wrap flex-col"><ul class="nav"><li class="waves-block waves-effect"><a href="/"><i class="icon icon-lg icon-home"></i> Home</a></li><li class="waves-block waves-effect"><a href="/archives"><i class="icon icon-lg icon-archives"></i> Archives</a></li><li class="waves-block waves-effect"><a href="/tags"><i class="icon icon-lg icon-tags"></i> Tags</a></li><li class="waves-block waves-effect"><a href="https://github.com/yscoder" target="_blank"><i class="icon icon-lg icon-github"></i> Github</a></li><li class="waves-block waves-effect"><a href="http://www.weibo.com/ysweb" target="_blank"><i class="icon icon-lg icon-weibo"></i> Weibo</a></li></ul></div></div></aside><main id="main"><header class="top-header" id="header"><div class="flex-row"><a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle"><i class="icon icon-lg icon-navicon"></i></a><div class="flex-col header-title ellipsis">Vue单元测试起步</div><div class="search-wrap" id="search-wrap"><a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back"><i class="icon icon-lg icon-chevron-left"></i></a> <input id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字"> <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search"><i class="icon icon-lg icon-search"></i></a></div><a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare"><i class="icon icon-lg icon-share-alt"></i></a></div></header><header class="content-header post-header"><div class="container fade-scale"><h1 class="title">Vue单元测试起步</h1><h5 class="subtitle"><time datetime="2016-11-10T03:08:14.000Z" itemprop="datePublished" class="page-time">2016年11月10日</time></h5></div></header><div class="container body-wrap"><aside class="post-widget"><nav class="post-toc-wrap post-toc-shrink" id="post-toc"><h4>TOC</h4><ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#准备"><span class="post-toc-number">1.</span> <span class="post-toc-text">准备</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#安装"><span class="post-toc-number">2.</span> <span class="post-toc-text">安装</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#配置"><span class="post-toc-number">3.</span> <span class="post-toc-text">配置</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#实践"><span class="post-toc-number">4.</span> <span class="post-toc-text">实践</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#测试用例"><span class="post-toc-number">5.</span> <span class="post-toc-text">测试用例</span></a></li></ol></nav></aside><article id="post-vue-unit-test-start" class="post-article article-type-post fade" itemprop="blogPost"><div class="post-card"><h1 class="post-card-title">Vue单元测试起步</h1><div class="post-meta"><time class="post-time" title="2016年11月10日 11:08:14" datetime="2016-11-10T03:08:14.000Z" itemprop="datePublished">2016年11月10日</time></div><div class="post-content" id="post-content" itemprop="postContent"><p>最近在搭建一个项目的前端开发环境，准备趁此把一些没用过的东西尝试下，比如：单元测试。<br>使用<code>vue-cli</code>可以直接生成一个包含<code>unit</code>、<code>e2e</code>测试的开发环境，不过还是需要去了解其中的组织结构、配置和模块的使用等。</p><h2 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h2><p>没有一点相关经验，先把<code>vue-cli</code>生成后的<code>test/unit</code>目录拿到自己的项目中。<br><a id="more"></a></p><p><code>test</code> 目录结构:</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">└─ test</div><div class="line">    └─ unit</div><div class="line">        ├─ specs</div><div class="line">        ├─ .eslintrc</div><div class="line">        ├─ index.js</div><div class="line">        └─ karma.conf.js</div></pre></td></tr></table></figure><p>之后在<code>package.json</code>中找到<code>karma</code>相关的模块。</p><ul><li><a href="http://karma-runner.github.io/0.13/index.html" target="_blank" rel="external">karma</a> 一个 JavaScript 测试运行器，其在测试中的作用相当于开发构建中使用的<code>webpack</code>。</li><li><a href="https://github.com/webpack/karma-webpack" target="_blank" rel="external">karma-webpack</a> 连接<code>karma</code>和<code>webpack</code>的桥梁。不经过<code>webpack</code>编译命令是文件是无法独立运行的，<code>karma</code>需要了解你的<code>webpack</code>配置，决定如何处理你的测试文件。</li><li><a href="https://github.com/karma-runner/karma-phantomjs-launcher" target="_blank" rel="external">karma-phantomjs-launcher</a> 是<code>phantomjs</code>在<code>karma</code>中的启动器，由此引出了<code>phantomjs</code>。<a href="https://github.com/ariya/phantomjs" target="_blank" rel="external">PhantomJS</a> 是一个没有界面的 “浏览器” ，内置了 JavaScript API，支持各种Web标准：DOM 处理、CSS 选择器、JSON、Canvas 和 SVG 等。在查找相关资料时，也发现了其他的常规浏览器<code>launcher</code>，比如：Chrome、Firefox、Safari、IE 等，以应对不同浏览器或多浏览器的测试需求。见<a href="http://karma-runner.github.io/0.13/config/browsers.html" target="_blank" rel="external">Browsers</a></li><li><a href="https://github.com/demerzel3/karma-sourcemap-loader" target="_blank" rel="external">karma-sourcemap-loader</a> <code>Karma</code>插件，生成文件的<code>sourcemap</code>。</li><li><a href="https://github.com/karma-runner/karma-mocha" target="_blank" rel="external">karma-mocha</a> 让你在 karma 中使用 <a href="https://mochajs.org/" target="_blank" rel="external">Mocha</a> 测试框架的插件，使用时还需要安装前置依赖<code>mocha</code>。</li><li><a href="https://github.com/domenic/sinon-chai" target="_blank" rel="external">karma-sinon-chai</a> 让你在<code>karma</code>中使用<code>sinon-chai</code>断言库的插件，前置依赖有<code>sinon-chai</code>、<code>sinon</code>、<code>chai</code>…😕</li><li><a href="https://github.com/mlex/karma-spec-reporter" target="_blank" rel="external">karma-spec-reporter</a> 用于将测试结果显示到控制台。</li><li><a href="https://github.com/karma-runner/karma-coverage" target="_blank" rel="external">karma-coverage</a> 生成代码覆盖率。</li></ul><p>其中要使用<code>karma-phantomjs-launcher</code>，需要先安装<code>PhantomJS</code>，通过<code>phantomjs-prebuilt</code>安装。</p><p>看到这一大堆依赖，感觉面前又是一个不亚于 Webpack 的技术栈。之所以去了解每个模块的用处，就是为了在学习的时候直插心脏，忽略那些不重要的模块。<br>以上来说，Karma 是基本的运行器，需要了解其配置和使用。测试框架 Mocha 和断言库 sinon-chai 类似于开发中使用的 Lodash，提供一系列用于测试的工具函数。剩下的按示例集成就好。</p><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>整合一条命令。</p><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">npm i -D karma karma-webpack phantomjs-prebuilt karma-phantomjs-launcher karma-sourcemap-loader mocha karma-mocha sinon chai sinon-chai karma-sinon-chai karma-spec-reporter karma-coverage</div></pre></td></tr></table></figure><p>PhantomJS 安装比较慢，也可以去其<a href="http://phantomjs.org/download.html" target="_blank" rel="external">官网下载</a>，并手动<a href="http://phantomjs.org/build.html" target="_blank" rel="external">配置环境变量</a>。</p><p>安装好了，先跑一下看看是否安装正确，到<code>package.json</code>的<code>scripts</code>中注册一个命令：<code>&quot;unit&quot;: &quot;karma start test/unit/karma.conf.js --single-run&quot;</code>，然后运行。</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">npm run unit</div></pre></td></tr></table></figure><p>然后不出意料的报错了，只是少装了一个模块<code>isparta-loader</code>，是一个代码覆盖工具，继续安装后运行OK。</p><figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="http://static.imys.net/vue-unit-1.jpg" alt="vue-unit-1"></div><div class="image-caption">vue-unit-1</div></figure><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p>karma.conf.js 文件内容分为两部分。<br><code>module.exports</code> 以上是对 Webpack 配置的处理，像<code>webpack.dev.conf</code>和<code>webpack.prod.conf</code>那样，在不同的环境里使用不同的配置。后一部分就是对 Karma 的配置了。</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span> (<span class="params">config</span>) </span>&#123;</div><div class="line">    config.set(&#123;</div><div class="line">        <span class="comment">// 要启动的测试浏览器</span></div><div class="line">        browsers: [<span class="string">'PhantomJS'</span>],</div><div class="line">        <span class="comment">// 测试框架</span></div><div class="line">        frameworks: [<span class="string">'mocha'</span>, <span class="string">'sinon-chai'</span>],</div><div class="line">        <span class="comment">// 测试报告处理</span></div><div class="line">        reporters: [<span class="string">'spec'</span>, <span class="string">'coverage'</span>],</div><div class="line">        <span class="comment">// 要测试的目标文件</span></div><div class="line">        files: [<span class="string">'./index.js'</span>],</div><div class="line">        <span class="comment">// 忽略的文件</span></div><div class="line">        exclude: [],</div><div class="line">        <span class="comment">// 预处理文件</span></div><div class="line">        preprocessors: &#123;</div><div class="line">            <span class="string">'./index.js'</span>: [<span class="string">'webpack'</span>, <span class="string">'sourcemap'</span>]</div><div class="line">        &#125;,</div><div class="line">        <span class="comment">// webpack</span></div><div class="line">        webpack: webpackConfig,</div><div class="line">        <span class="attr">webpackMiddleware</span>: &#123;</div><div class="line">            <span class="attr">noInfo</span>: <span class="literal">true</span></div><div class="line">        &#125;,</div><div class="line">        <span class="comment">// Coverage options</span></div><div class="line">        coverageReporter: &#123;</div><div class="line">            <span class="attr">dir</span>: <span class="string">'./coverage'</span>,</div><div class="line">            <span class="attr">reporters</span>: [</div><div class="line">                &#123; <span class="attr">type</span>: <span class="string">'lcov'</span>, <span class="attr">subdir</span>: <span class="string">'.'</span> &#125;,</div><div class="line">                &#123; <span class="attr">type</span>: <span class="string">'text-summary'</span> &#125;</div><div class="line">            ]</div><div class="line">        &#125;,</div><div class="line">        <span class="comment">// true: 自动运行测试并退出</span></div><div class="line">        <span class="comment">// false: 监控文件持续测试</span></div><div class="line">        singleRun: <span class="literal">true</span>,</div><div class="line"></div><div class="line">        <span class="comment">// 以下是 vue-cli 没有生成的一些配置</span></div><div class="line"></div><div class="line">        <span class="comment">// 文件匹配的起始路径</span></div><div class="line">        <span class="comment">// basePath: '',</span></div><div class="line">        <span class="comment">// 服务器端口</span></div><div class="line">        <span class="comment">// port: 9876,</span></div><div class="line">        <span class="comment">// 输出着色</span></div><div class="line">        <span class="comment">// colors: true,</span></div><div class="line">        <span class="comment">// 日志级别</span></div><div class="line">        <span class="comment">// LOG_DISABLE || LOG_ERROR || LOG_WARN || LOG_INFO || LOG_DEBUG</span></div><div class="line">        <span class="comment">// logLevel: config.LOG_INFO,</span></div><div class="line">        <span class="comment">// 监控文件更改</span></div><div class="line">        <span class="comment">// autoWatch: true,</span></div><div class="line">        <span class="comment">// 超时处理，6s内没有捕获浏览器将终止进程</span></div><div class="line">        <span class="comment">// captureTimeout: 6000</span></div><div class="line">    &#125;)</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>其中对于测试文件入口有点难以理解，仅仅是一个脚本文件，而不是路径匹配，也就是配置文件同级的那个<code>index.js</code>，只有 5 行代码。</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="built_in">Function</span>.prototype.bind = <span class="built_in">require</span>(<span class="string">'function-bind'</span>)</div><div class="line"></div><div class="line"><span class="keyword">const</span> testsContext = <span class="built_in">require</span>.context(<span class="string">'./specs'</span>, <span class="literal">true</span>, /\.spec$/)</div><div class="line">testsContext.keys().forEach(testsContext)</div><div class="line"></div><div class="line"><span class="keyword">const</span> srcContext = <span class="built_in">require</span>.context(<span class="string">'../../src'</span>, <span class="literal">true</span>, /^\.\/(?!main(\.js)?$)/)</div><div class="line">srcContext.keys().forEach(srcContext)</div></pre></td></tr></table></figure><p>看起来如果使用了高版本的 NodeJs 第一行代码是可以去掉了。</p><ul><li><code>testsContext</code>匹配的是<code>specs</code>目录，里面是存放的是测试用例；</li><li><code>srcContext</code>匹配的是<code>src</code>目录，从正则上看是除了<code>main.js</code>以外的所有文件。</li></ul><p>也就是说，也可以通过脚本文件这种方式设置匹配的目标文件。</p><h2 id="实践"><a href="#实践" class="headerlink" title="实践"></a>实践</h2><p>现在看起来一切妥当了，可以开始写测试用例了。</p><p>把以上步骤又重复了一遍，集成到了一个自己写的 Demo 项目中，然后运行测试。</p><figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="http://static.imys.net/vue-unit-2.jpg" alt="vue-unit-2"></div><div class="image-caption">vue-unit-2</div></figure><p>什么鬼，找不到 <code>less</code> 变量。</p><p>为了验证不是配置问题，我在 vue-cli 生成项目的组件中使用 less 写了个样式，运行测试出现了一样的问题。<br>最后找到了这条<a href="https://github.com/vuejs-templates/webpack/issues/163" target="_blank" rel="external">issue</a>。<br>翻译了半天，感觉是匹配文件的问题。</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">const</span> srcContext = <span class="built_in">require</span>.context(<span class="string">'../../src'</span>, <span class="literal">true</span>, /^\.\/(?!main(\.js)?$)/)</div></pre></td></tr></table></figure><p>原来的正则会匹配除了<code>main.js</code>以外的所有文件，所以样式文件也会被匹配上。使用 less 时一般只有一个变量文件，然后从一个 less 出口文件中解析，而单元测试本身做的工作是单文件测试，单个 less 文件肯定是找不到变量的。<br>不过样式本身是不会对逻辑产生影响的，可以不参与测试，干脆直接锁定目标文件后缀，也就是 vue 组件。</p><p>修改如下：</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">const</span> srcContext = <span class="built_in">require</span>.context(<span class="string">'../../src'</span>, <span class="literal">true</span>, /\.vue$/)</div></pre></td></tr></table></figure><p>刚翻过一座山，又遇到一条河。</p><figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="http://static.imys.net/vue-unit-3.jpg" alt="vue-unit-3"></div><div class="image-caption">vue-unit-3</div></figure><p>看起来是因为 API 不兼容，PhantomJS 中还没有集成 Promise。</p><figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="http://static.imys.net/vue-unit-4.jpg" alt="vue-unit-4"></div><div class="image-caption">vue-unit-4</div></figure><p>为了避免相似的问题，索性把 launcher 换掉了，用<code>karma-chrome-launcher</code>。<br>安装后，更改 Karma 配置中的<code>browsers</code>属性值为<code>[&#39;Chrome&#39;]</code>，测试运行成功。</p><figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="http://static.imys.net/vue-unit-5.png" alt="vue-unit-5"></div><div class="image-caption">vue-unit-5</div></figure><p>有一些青色的 LOG，第一条使用 Vue 的应该都已经熟悉了，是浏览器控制台输出的 LOG，所以其他的也是浏览器的日志了。</p><p>第 1、3、4 条 LOG 是有一个指令没有找到，第 2 条是关于路由的。指令和路由的引入是在项目入口的 js 文件内，可以预知如果我使用了其他类别的 Vue 插件也会报出 ERROR。<br>还是有问题要解决啊！😒</p><h2 id="测试用例"><a href="#测试用例" class="headerlink" title="测试用例"></a>测试用例</h2><p>初次接触测试框架和断言，对于组件的测试用例也还在摸索中。<br>从例子上看，大概思路如下：</p><ol><li>引入一个组件；</li><li>创建一个用于测试的 Vue 实例，然后组件挂上去；</li><li>对实例进行模拟操作，然后断言期望值。</li></ol><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></div><div class="line"><span class="keyword">import</span> SearchView <span class="keyword">from</span> <span class="string">'src/components/SearchView'</span></div><div class="line"></div><div class="line">describe(<span class="string">'SearchView.vue'</span>, () =&gt; &#123;</div><div class="line">    it(<span class="string">'Input is normal'</span>, () =&gt; &#123;</div><div class="line">        <span class="keyword">const</span> vm = <span class="keyword">new</span> Vue(&#123;</div><div class="line">            <span class="attr">el</span>: <span class="built_in">document</span>.createElement(<span class="string">'div'</span>),</div><div class="line">            <span class="attr">render</span>: <span class="function">(<span class="params">h</span>) =&gt;</span> h(SearchView)</div><div class="line">        &#125;)</div><div class="line"></div><div class="line">        vm.key = <span class="string">'曾经的你'</span></div><div class="line"></div><div class="line">        vm.$nextTick(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">            expect(vm.$el.querySelector(<span class="string">'.m-key'</span>).textContent).to.equal(<span class="string">'曾经的你'</span>)</div><div class="line">        &#125;)</div><div class="line">    &#125;)</div><div class="line">&#125;)</div></pre></td></tr></table></figure><p>实际的项目中，针对复杂的逻辑或者异步操作，测试一定不会这么简单。😅<br>下一步准备找一些 Vue 的开源项目，学习一下其中的测试用例写法。</p><p>End!</p></div><blockquote class="post-copyright"><div class="content"><span class="post-time">最后更新时间：<time datetime="2017-08-20T13:57:23.874Z" itemprop="dateUpdated">2017年08月20日 21:57:23</time></span><br>原始链接：<a href="/20161110/vue-unit-test-start.html" target="_blank" rel="external">http://imys.net/20161110/vue-unit-test-start.html</a></div><footer><a href="http://imys.net"><img src="/img/face.jpg" alt="王昱森"> 王昱森</a></footer></blockquote><div class="page-reward"><a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a></div><div class="post-footer"><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Karma/">Karma</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Phantomjs/">Phantomjs</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Unit-test/">Unit test</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Vue/">Vue</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/单元测试/">单元测试</a></li></ul><div class="page-share-wrap"><div class="page-share" id="pageShare"><ul class="reset share-icons"><li><a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://imys.net/20161110/vue-unit-test-start.html&title=《Vue单元测试起步》 — Yusen's Blog&pic=http://imys.net/img/face.jpg" data-title="微博"><i class="icon icon-weibo"></i></a></li><li><a class="weixin share-sns wxFab" href="javascript:;" data-title="微信"><i class="icon icon-weixin"></i></a></li><li><a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://imys.net/20161110/vue-unit-test-start.html&title=《Vue单元测试起步》 — Yusen's Blog&source=最近在搭建一个项目的前端开发环境，准备趁此把一些没用过的东西尝试下，比如：单元测试。使用vue-cli可以直接生成一个包含unit、e2e测试的开发环境，..." data-title=" QQ"><i class="icon icon-qq"></i></a></li><li><a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://imys.net/20161110/vue-unit-test-start.html" data-title=" Facebook"><i class="icon icon-facebook"></i></a></li><li><a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Vue单元测试起步》 — Yusen's Blog&url=http://imys.net/20161110/vue-unit-test-start.html&via=http://imys.net" data-title=" Twitter"><i class="icon icon-twitter"></i></a></li><li><a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://imys.net/20161110/vue-unit-test-start.html" data-title=" Google+"><i class="icon icon-google-plus"></i></a></li></ul></div><a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle"><i class="icon icon-share-alt icon-lg"></i></a></div></div></div><nav class="post-nav flex-row flex-justify-between"><div class="waves-block waves-effect prev"><a href="/20161125/cursor-offset-at-input.html" id="post-prev" class="post-nav-link"><div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div><h4 class="title">JavaScript 获取输入时的光标位置及场景问题</h4></a></div><div class="waves-block waves-effect next"><a href="/20161031/text-transform-capitalize-not-working.html" id="post-next" class="post-nav-link"><div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div><h4 class="title">关于 text-transform: capitalize 失效的场景与解决方案</h4></a></div></nav><!-- Valine Comments --><div class="comments vcomment" id="comments"></div><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script><!-- Valine Comments script --><script>var GUEST_INFO=["nick","mail","link"],guest_info="nick,mail".split(",").filter(function(e){return GUEST_INFO.indexOf(e)>-1});new Valine({el:"#comments",notify:!1,verify:!1,appId:"R0tGuv7HFlmrAVTKtuX8ceT7-gzGzoHsz",appKey:"KgvkCCIDO9CXUe5khfHdrtew",avatar:"retro",placeholder:"要不要说点什么？",guest_info:0==guest_info.length?GUEST_INFO:guest_info,pageSize:"20"});</script><!-- Valine Comments end --></article><div id="reward" class="page-modal reward-lay"><a class="close" href="javascript:;"><i class="icon icon-close"></i></a><h3 class="reward-title"><i class="icon icon-quote-left"></i> 请我吃辣条~ <i class="icon icon-quote-right"></i></h3><div class="reward-content"><div class="reward-code"><img id="rewardCode" src="/img/wechat.jpg" alt="打赏二维码"></div><label class="reward-toggle"><input id="rewardToggle" type="checkbox" class="reward-toggle-check" data-wechat="/img/wechat.jpg" data-alipay="/img/alipay.jpg"><div class="reward-toggle-ctrol"><span class="reward-toggle-item wechat">微信</span> <span class="reward-toggle-label"></span> <span class="reward-toggle-item alipay">支付宝</span></div></label></div></div></div><footer class="footer"><div class="top"><p><span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span> <span>博客内容遵循 <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a></span></p></div><div class="bottom"><p><span>王昱森 &copy; 2015 - 2018</span> <span><a href="http://www.miitbeian.gov.cn/" target="_blank">豫ICP备17023738号-1</a><br>Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a></span></p></div></footer></main><div class="mask" id="mask"></div><a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a><div class="global-share" id="globalShare"><ul class="reset share-icons"><li><a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://imys.net/20161110/vue-unit-test-start.html&title=《Vue单元测试起步》 — Yusen's Blog&pic=http://imys.net/img/face.jpg" data-title="微博"><i class="icon icon-weibo"></i></a></li><li><a class="weixin share-sns wxFab" href="javascript:;" data-title="微信"><i class="icon icon-weixin"></i></a></li><li><a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://imys.net/20161110/vue-unit-test-start.html&title=《Vue单元测试起步》 — Yusen's Blog&source=最近在搭建一个项目的前端开发环境，准备趁此把一些没用过的东西尝试下，比如：单元测试。使用vue-cli可以直接生成一个包含unit、e2e测试的开发环境，..." data-title=" QQ"><i class="icon icon-qq"></i></a></li><li><a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://imys.net/20161110/vue-unit-test-start.html" data-title=" Facebook"><i class="icon icon-facebook"></i></a></li><li><a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Vue单元测试起步》 — Yusen's Blog&url=http://imys.net/20161110/vue-unit-test-start.html&via=http://imys.net" data-title=" Twitter"><i class="icon icon-twitter"></i></a></li><li><a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://imys.net/20161110/vue-unit-test-start.html" data-title=" Google+"><i class="icon icon-google-plus"></i></a></li></ul></div><div class="page-modal wx-share" id="wxShare"><a class="close" href="javascript:;"><i class="icon icon-close"></i></a><p>扫一扫，分享到微信</p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACMElEQVR42u3aQW7DMAwEwPz/0ynQU4HExi7lFo08OhlOYmtyICiSj0e8nt/r5/XP9frN10+P7iTPvGxhYGB8LON5ul5feXTnnH3+25x3SMXAwLgBo93KLAYmb8y/iYGBgXGe2OXUq4IvBgYGRv76/OB61eEWAwMDIz/E5vdnKeMfncUxMDA+kDFrDPzN9a/3NzAwMP4943npyhPHJHAX78XAwNiacV5KuyoQrw9tRIEYAwNja0Y77rCeXM5g0V+PgYGxHSMfephFuba4lu/hTVKIgYGxNWPWdGxL+e0wR/Lpm7M4BgbGdoykKNa2EvPSf/vMKHHEwMC4GSMve7Xp4LUtBAwMjL0ZeVF+lq4t1f/i+QoMDIz7MGbJX8urW5JJmwEDA2NrxmxIIg+d+WG4DbKHY2EYGBi3YVy1lbbQn19HfVQMDIyNGG3obMtnLa89TmNgYNyTkTwibwasPKc4xGJgYGzKyFO3NqVbaVUmLcxhBoqBgfGBjLaktXLEXTn01o1PDAyM7Rgr4xGz7c5aoUVXEwMDY2vGrCXZltuSjSZJ4WHAxcDA2I6RJ2ftyNeswTCLqxgYGLsyVpK82YBXO14WBVwMDIytGevROi/czxLKtnWBgYGxK6NtHM4K/bNGKQYGBsZKiGzHuYZjE/kTMDAwMEZF/yRYJ6W9KJ/FwMDAOA2ybeEs33pRXMPAwLgBIx9dXQ+XeROiHgvDwMDYlDFrDLQNy3aLbXKJgYGxKeMLnl1LqdNxFHwAAAAASUVORK5CYII=" alt="微信分享二维码"></div><script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script><script>var BLOG={ROOT:"/",SHARE:!0,REWARD:!0};</script><script src="/js/main.min.js?v=1.7.2"></script><div class="search-panel" id="search-panel"><ul class="search-result" id="search-result"></ul></div><template id="search-tpl"><li class="item"><a href="{path}" class="waves-block waves-effect"><div class="title ellipsis" title="{title}">{title}</div><div class="flex-row flex-middle"><div class="tags ellipsis">{tags}</div><time class="flex-col time">{date}</time></div></a></li></template><script src="/js/search.min.js?v=1.7.2" async></script></body></html>