{"title":"jQuery扩展 - 延迟执行hover事件","slug":"jquery-delayHover","date":"2015-04-28T09:15:57.000Z","updated":"2016-11-12T19:19:11.619Z","comments":true,"path":"api/articles/jquery-delayHover.json","excerpt":"<blockquote><p>适用场景如：鼠标随便一滑，无数个下拉菜单出来了，用户可能只是鼠标“打个酱油”罢了。</p></blockquote><p>实现很简单，就是使用<code>setTimeout</code>延迟事件代码的执行。<br>","content":"<blockquote><p>适用场景如：鼠标随便一滑，无数个下拉菜单出来了，用户可能只是鼠标“打个酱油”罢了。</p></blockquote><p>实现很简单，就是使用<code>setTimeout</code>延迟事件代码的执行。<br><a id=\"more\"></a></p><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><div class=\"line\">(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">$</span>)</span>&#123;</div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">DelayHover</span>(<span class=\"params\">options</span>) </span>&#123;</div><div class=\"line\">        <span class=\"keyword\">var</span> defaults = &#123;</div><div class=\"line\">            <span class=\"attr\">speed</span> : <span class=\"number\">400</span>,                <span class=\"comment\">// 延迟时间(毫秒)</span></div><div class=\"line\">            onHover : <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">el</span>) </span>&#123;&#125;,  <span class=\"comment\">// 鼠标悬浮</span></div><div class=\"line\">            onOut : <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">el</span>)</span>&#123;&#125;      <span class=\"comment\">// 鼠标离开</span></div><div class=\"line\">        &#125;;</div><div class=\"line\"></div><div class=\"line\">        <span class=\"keyword\">this</span>.settings = $.extend(&#123;&#125;, defaults, options);</div><div class=\"line\">        <span class=\"keyword\">var</span> _this = <span class=\"keyword\">this</span>, hoverTimer;</div><div class=\"line\"></div><div class=\"line\">        _this.bind = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">            $(_this).hover(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">                hoverTimer = setTimeout(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">                    _this.settings.onHover(_this);</div><div class=\"line\">                &#125;, _this.settings.speed);</div><div class=\"line\">            &#125;, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">                clearTimeout(hoverTimer);</div><div class=\"line\">                _this.settings.onOut(_this);</div><div class=\"line\">            &#125;);</div><div class=\"line\"></div><div class=\"line\">        &#125;;</div><div class=\"line\"></div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    $.fn.delayHover = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">options</span>) </span>&#123;</div><div class=\"line\"></div><div class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.each(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\"></div><div class=\"line\">            DelayHover.call(<span class=\"keyword\">this</span>,options);</div><div class=\"line\">            <span class=\"keyword\">this</span>.bind();</div><div class=\"line\">        &#125;);</div><div class=\"line\"></div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;)(jQuery);</div></pre></td></tr></table></figure>","categories":[],"tags":[{"name":"jQuery","path":"api/tags/jQuery.json"},{"name":"jQuery插件","path":"api/tags/jQuery插件.json"}]}